import{r as e}from"./ui-Cl6vEefb.js";import{u as t,s,t as a}from"./index-YTWrWh3g.js";import"./vendor-DZS5dBEv.js";import"./supabase-Cx4a92Ep.js";const n=()=>{const{user:n}=t();return e.useEffect(()=>{if(!n)return;const e=s.channel("investment_updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"investments",filter:`user_email=eq.${n.email}`},e=>{const{new:t,old:s}=e;"pending"===s.status&&"approved"===t.status?a({title:"ðŸš€ Investissement ApprouvÃ©!",description:`Votre ${t.plan_name} est maintenant actif.`,duration:5e3}):"pending"===s.status&&"rejected"===t.status&&a({title:"âŒ Investissement RejetÃ©",description:`Votre ${t.plan_name} a Ã©tÃ© rejetÃ©.`,duration:5e3})}).subscribe(),t=s.channel("deposit_updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"deposits",filter:`user_email=eq.${n.email}`},e=>{const{new:t,old:s}=e;"pending"===s.status&&"approved"===t.status?a({title:"âœ… DÃ©pÃ´t ApprouvÃ©!",description:`Votre dÃ©pÃ´t de ${t.amount}â‚¬ a Ã©tÃ© validÃ©.`,duration:5e3}):"pending"===s.status&&"rejected"===t.status&&a({title:"âŒ DÃ©pÃ´t RejetÃ©",description:`Votre dÃ©pÃ´t de ${t.amount}â‚¬ a Ã©tÃ© rejetÃ©.`,duration:5e3})}).subscribe(),i=s.channel("withdrawal_updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"withdrawals",filter:`user_email=eq.${n.email}`},e=>{const{new:t,old:s}=e;"pending"===s.status&&"approved"===t.status?a({title:"ðŸ’° Retrait ApprouvÃ©!",description:`Votre retrait de ${t.amount}â‚¬ a Ã©tÃ© traitÃ©.`,duration:5e3}):"pending"===s.status&&"rejected"===t.status&&a({title:"âŒ Retrait RejetÃ©",description:`Votre retrait de ${t.amount}â‚¬ a Ã©tÃ© rejetÃ©.`,duration:5e3})}).subscribe();return()=>{e.unsubscribe(),t.unsubscribe(),i.unsubscribe()}},[n]),null};export{n as default};
